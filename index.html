<!DOCTYPE html>
<html>
<head>
  <title>Myo Music</title>
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.5/paper/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="/styles/base.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</head>
<body>
  <div class='container-fluid'>
    <h1>Myo Music</h1>
    <div class='col-xs-3'>
      <div class='thumbnail' id='acoustic-guitar'>
        <div class="caption">
          <p>acoustic guitar</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='ambient-sparse'>
        <div class="caption">
          <p>ambient sparse</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='banjo-with-ebow'>
        <div class="caption">
          <p>banjo with ebow</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='cello'>
        <div class="caption">
          <p>cello</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='clarinet'>
        <div class="caption">
          <p>clarinet</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='ebow'>
        <div class="caption">
          <p>ebow</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='electribe-mx'>
        <div class="caption">
          <p>electribe mx</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='electric-bass'>
        <div class="caption">
          <p>electric bass</p>
          </div>
        </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='electric-guitar'>
        <div class="caption">
          <p>electric guitar</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='harmon-trumpet'>
        <div class="caption">
          <p>harmon trumpet</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='information'>
        <div class="caption">
          <p>poetry</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='kaoss-pad-synth'>
        <div class="caption">
          <p>kaoss pad synth</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='mallets'>
        <div class="caption">
          <p>mallets</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='nintendo-ds'>
        <div class="caption">
          <p>nintendo ds</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='omnichord-and-qchord'>
        <div class="caption">
          <p>omnichord and qchord</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='piano'>
        <div class="caption">
          <p>piano</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='rhodes-piano'>
        <div class="caption">
          <p>rhodes piano</p>
          </div>
        </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='toy-sax'>
        <div class="caption">
          <p>toy sax</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='violin'>
        <div class="caption">
          <p>violin</p>
        </div>
      </div>
    </div>

    <div class='col-xs-3'>
      <div class='thumbnail' id='vocals'>
        <div class="caption">
          <p>vocals</p>
        </div>
      </div>
    </div>

  </div>
<script src="/socket.io/socket.io.js"></script>
</body>
<script>

  var socket = io.connect();
  socket.on('connect', function(data) {
    socket.emit('join', 'hello world from the client!');
  });

var context = new AudioContext();

var playInstrument = function(instrument) {
  music = new Audio();
  music.src = ('./instruments/' + instrument + '.mp3');
  var source = context.createMediaElementSource(music);
  source.connect(context.destination);
  source.mediaElement.play();
}

$('.thumbnail').click(function(event) {
  playInstrument(event.currentTarget.id);
  console.log("Now Playing:", event.currentTarget.id);
})

</script>
